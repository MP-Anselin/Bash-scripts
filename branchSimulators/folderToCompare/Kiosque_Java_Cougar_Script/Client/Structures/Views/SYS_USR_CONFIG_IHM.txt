##
SYS_USR_CONFIG_IHM
=SQL=
CREATE OR REPLACE VIEW "SYS_USR_CONFIG_IHM" AS
SELECT
    C.LOGIN,
    C.REQUETEMATRIC,
    NVL(S.NOM, E.NOMFAM) AS NOM,
    NVL(S.PRENOM, E.PRENOM) AS PRENOM
FROM
    SYS_USR_CONFIG C,
    SECUMATRIC S,
    (
        SELECT
            *
        FROM
            SYS_USR_EXTERNE
        WHERE
            SUBSTR(LOGON_HOST_WHEN_NS, 2, 1) <> '-'
            OR LOGON_HOST_WHEN_NS IS NULL
    ) E
WHERE
    C.REQUETEMATRIC = S.MATRIC (+)
    AND C.LOGIN = E.LOGIN (+)

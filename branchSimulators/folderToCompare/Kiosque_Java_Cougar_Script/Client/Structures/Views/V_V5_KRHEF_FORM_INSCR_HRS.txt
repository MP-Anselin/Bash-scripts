##
V_V5_KRHEF_FORM_INSCR_HRS
=SQL=
CREATE OR REPLACE VIEW V_V5_KRHEF_FORM_INSCR_HRS ("ID_FORMATION_COUT","ALL_FORMATION","ID_INSCRIPTION","NUM_SEQ","ID_FORMATION_COUT_REF","MAINTIEN_SALAIRE_STAGIAIRE","SALAIRE_HTT","ID_PLAN","ID_AFF_BDG_DETAIL","ORDRE_AFF_BDG","PREV_NBRE_HEURES","PREV_NBRE_JOURS","PREV_HRS_TT","PREV_HRS_HTT","PREV_HRS_DIF_TT","PREV_HRS_DIF_HTT","REALISE_NBRE_JOURS","REALISE_HRS_TT","REALISE_HRS_HTT","REALISE_HRS_DIF_TT","REALISE_HRS_DIF_HTT","DATE_MAJ_HRS","CALC_AUTO_MAINTIEN_SALAIRE","PREV_HRS_CPF_TT","PREV_HRS_CPF_HTT","REALISE_HRS_CPF_TT","REALISE_HRS_CPF_HTT","STATUT_SEQUENCE","ID_ACTEUR_FORM","DATE_SEQ_DEBUT") AS 
select fc.ID_FORMATION_COUT, fc.ALL_FORMATION, fc.ID_INSCRIPTION, fc.NUM_SEQ, fc.ID_FORMATION_COUT_REF, fc.MAINTIEN_SALAIRE_STAGIAIRE, fc.SALAIRE_HTT, fc.ID_PLAN, fc.ID_AFF_BDG_DETAIL, fc.ORDRE_AFF_BDG, fc.PREV_NBRE_HEURES, fc.PREV_NBRE_JOURS, fc.PREV_HRS_TT, fc.PREV_HRS_HTT, fc.PREV_HRS_DIF_TT, fc.PREV_HRS_DIF_HTT, fc.REALISE_NBRE_JOURS, fc.REALISE_HRS_TT, fc.REALISE_HRS_HTT, fc.REALISE_HRS_DIF_TT, fc.REALISE_HRS_DIF_HTT, fc.DATE_MAJ_HRS, fc.CALC_AUTO_MAINTIEN_SALAIRE, fc.PREV_HRS_CPF_TT, fc.PREV_HRS_CPF_HTT, fc.REALISE_HRS_CPF_TT, fc.REALISE_HRS_CPF_HTT,
                case when ins.ANNULATION_STAGIAIRE is not null
                     then 'SUIVI_ANNULE_STAGIAIRE'
                     when ins.ANNULATION_ORGANISME is not null
                     then 'SUIVI_ANNULE_ORGANISME'
                     when ins.SESSION_SEMI_EFFECTUE is not null
                     then 'SUIVI_SEMI_EFFECTUE'
                     when ins.SESSION_EFFECTUE is not null
                     then 'SUIVI_EFFECTUE'
                     else 'SUIVI_PREVU' end as STATUT_SEQUENCE,
                ins.ID_ACTEUR_FORM, ins.DATE_SEQ_DEBUT
         from T_V5_KRHEF_FORMATION_COUT fc,
              T_V5_KRHEF_FORMATION_INSCR ins
         where fc.ID_INSCRIPTION = ins.ID_INSCRIPTION
           and ins.DATE_INSCRIPTION is not null
           and ins.NUM_SEQ <> 0

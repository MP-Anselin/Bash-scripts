##
V_V5_STATUT
=SQL=
CREATE OR REPLACE VIEW V_V5_STATUT ("PERSO","PERSONNALISABLE","DEFAULT_FOR_FORM","DEFAULT_CANCELLED_BY_GEST","DEFAULT_FORCED_OK_BY_GEST","DEFAULT_FORCED_KO_BY_GEST","ID","APPLI","CODE","MODULE","LANGUE","CONTEXTE","CONTENU","ON_AUTODECLARATIF","ACTIF","EXPORT_GTA_SI_NON_VISE") AS 
select 0 as PERSO, PERSONNALISABLE, 
 case when (select distinct ID from T_V5_STATUT where DEFAULT_FOR_FORM = 1) is not null then 0 else DEFAULT_FOR_FORM end as DEFAULT_FOR_FORM, 
 case when (select distinct ID from T_V5_STATUT where DEFAULT_CANCELLED_BY_GEST = 1) is not null then 0 else DEFAULT_CANCELLED_BY_GEST end as DEFAULT_CANCELLED_BY_GEST, 
 case when (select distinct ID from T_V5_STATUT where DEFAULT_FORCED_OK_BY_GEST = 1) is not null then 0 else DEFAULT_FORCED_OK_BY_GEST end as DEFAULT_FORCED_OK_BY_GEST, 
 case when (select distinct ID from T_V5_STATUT where DEFAULT_FORCED_KO_BY_GEST = 1) is not null then 0 else DEFAULT_FORCED_KO_BY_GEST end as DEFAULT_FORCED_KO_BY_GEST 
, ID
, APPLI
, CODE
, MODULE
, LANGUE
, CONTEXTE
, CONTENU
, ON_AUTODECLARATIF
, ACTIF
, EXPORT_GTA_SI_NON_VISE
 from T_V5_MDL_STATUT where ID not in (select ID from T_V5_STATUT) union all  select 1 as PERSO, 1 as PERSONNALISABLE, DEFAULT_FOR_FORM, DEFAULT_CANCELLED_BY_GEST, DEFAULT_FORCED_OK_BY_GEST, DEFAULT_FORCED_KO_BY_GEST 
, ID
, APPLI
, CODE
, MODULE
, LANGUE
, CONTEXTE
, CONTENU
, ON_AUTODECLARATIF
, ACTIF
, EXPORT_GTA_SI_NON_VISE
 from T_V5_STATUT order by ID

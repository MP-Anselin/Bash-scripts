##
TAG_CHARSET=@€ιθη
##
GET_DAC_MULTI_HORS_TRANSAC
=SQL=
DECLARE
  v_count NUMBER;
BEGIN
  SELECT COUNT(*) INTO v_count FROM USER_OBJECTS WHERE OBJECT_NAME='GET_DAC_MULTI_HORS_TRANSAC' AND OBJECT_TYPE='FUNCTION' AND STATUS='VALID';
  IF v_count = 0 THEN
    EXECUTE_IMMEDIATE_STRING('CREATE OR REPLACE FUNCTION GET_DAC_MULTI_HORS_TRANSAC(p_listeClesIdxContrat T_CLES_IDX_CONTRAT_HISTO) RETURN T_TAB_DAC IS 
PRAGMA AUTONOMOUS_TRANSACTION; 
retour T_TAB_DAC; 
BEGIN 
  SELECT T_LIG_DAC(NUMPAC, PACMAT, NUMCNT) BULK COLLECT INTO retour FROM DIC_ADM_CONTRAT WHERE (NUMPAC,PACMAT,NUMCNT) IN (SELECT NUMPAC, PACMAT, NUMCNT FROM TABLE( p_listeClesIdxContrat )) ORDER BY MATRIC, DSDCN;
  RETURN retour;
EXCEPTION
  WHEN OTHERS THEN RETURN T_TAB_DAC();
END GET_DAC_MULTI_HORS_TRANSAC;', 0);
  END IF;
END;

##
TAG_CHARSET=@€ιθη
##
GET_DAC_MATRIC
=SQL=
DECLARE
  v_count NUMBER;
BEGIN
  SELECT COUNT(*) INTO v_count FROM USER_OBJECTS WHERE OBJECT_NAME='GET_DAC_MATRIC' AND OBJECT_TYPE='FUNCTION' AND STATUS='VALID';
  IF v_count = 0 THEN
    EXECUTE_IMMEDIATE_STRING ('CREATE OR REPLACE FUNCTION GET_DAC_MATRIC(p_matric VARCHAR2) RETURN T_TAB_DAC IS 
retour T_TAB_DAC; 
BEGIN 
  SELECT T_LIG_DAC(NUMPAC, PACMAT, NUMCNT) BULK COLLECT INTO retour FROM DIC_ADM_CONTRAT WHERE MATRIC=p_matric ORDER BY DSDCN;
  RETURN retour;
EXCEPTION
  WHEN OTHERS THEN RETURN T_TAB_DAC();
END GET_DAC_MATRIC;',0);
  END IF;
END;

##
SYS_BATCH_LANCEMENT
=SQL=
CREATE OR REPLACE FORCE VIEW SYS_BATCH_LANCEMENT (ID_TRACE, STATUT, NOMCLIENT, NOMINTERFACE, ENVCLIENT, FICHIER, CONF, REQUESTED_GO, EFFECTIVE_GO, ENDED, TIME_ELAPSED, PARAMETRES) AS 
  SELECT
    ID_TRACE,
    STATUT,
    NOMCLIENT,
    NOMINTERFACE,
    ENVCLIENT,
    FICHIER,
    CONF,
    TO_CHAR(REQUESTED_GO, 'DD.MM.YYYY HH24:MI:SS') AS REQUESTED_GO,
    TO_CHAR(EFFECTIVE_GO, 'DD.MM.YYYY HH24:MI:SS') AS EFFECTIVE_GO,
    TO_CHAR(ENDED,'DD.MM.YYYY HH24:MI:SS') AS ENDED,
    CASE 
    WHEN ENDED IS NULL OR EFFECTIVE_GO IS NULL THEN 'N/A'
    ELSE
      LPAD(EXTRACT(DAY FROM (ENDED - EFFECTIVE_GO) ),2,'0') || 'd '||
      LPAD(EXTRACT(HOUR FROM (ENDED - EFFECTIVE_GO) ),2,'0') || 'h '||
      LPAD(EXTRACT(MINUTE FROM (ENDED - EFFECTIVE_GO) ),2,'0') || 'min '||
      LPAD(EXTRACT(SECOND FROM (ENDED - EFFECTIVE_GO) ),2,'0') || 's' 
    END AS TIME_ELAPSED,
    PARAMETRES
  FROM SYS_BATCH_TRACE_LANCEMENT T1

##
TAG_CHARSET=@€ιθη
##
MP_REF_DATA_ALP_BY_URI
=SQL=
CREATE OR REPLACE VIEW MP_REF_DATA_ALP_BY_URI (DATA_NAME_MP, DATA_NAME_MP_ALP, JSON_PATH, URI_ID, URI, API_ID, API_LABEL) AS 
SELECT DA.DATA_NAME_MP, DA.DATA_NAME_MP_ALP, CASE WHEN D.SUFFIX_JSON_PATH LIKE DU.PREFIX_JSON_PATH||'%' THEN D.SUFFIX_JSON_PATH ELSE DU.PREFIX_JSON_PATH||D.SUFFIX_JSON_PATH END
, U.URI_ID, U.URI, A.API_ID, A.API_LABEL 
FROM MP_REF_DATA_BY_URI DU, MP_REF_DATA_ALP DA, MP_REF_DATA D, MP_REF_URI U, MP_REF_API A 
WHERE DU.DATA_NAME_MP=DA.DATA_NAME_MP 
AND D.DATA_NAME_MP=DA.DATA_NAME_MP 
AND DU.URI_ID=U.URI_ID 
AND U.API_ID=A.API_ID 
UNION ALL 
SELECT NULL, M.NOM_DONNEE_UX, CASE WHEN D.SUFFIX_JSON_PATH LIKE DU.PREFIX_JSON_PATH||'%' THEN D.SUFFIX_JSON_PATH ELSE DU.PREFIX_JSON_PATH||D.SUFFIX_JSON_PATH END
, U.URI_ID, U.URI, A.API_ID, A.API_LABEL 
FROM MP_REF_CUSTOMFIELD_BY_URI DU, REF_DONNEE_MAPPING_API_IHM M, MP_REF_CUSTOMFIELD D, MP_REF_URI U, MP_REF_API A   
WHERE M.NOM_DONNEE_UX LIKE DU.CUSTOMFIELD_PREFIX_MP||'%'
AND DU.CUSTOMFIELD_PREFIX_MP=D.CUSTOMFIELD_PREFIX_MP 
AND DU.URI_ID=U.URI_ID 
AND U.API_ID=A.API_ID

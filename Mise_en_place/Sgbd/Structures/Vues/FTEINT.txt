##
FTEINT
==
CREATE OR REPLACE FORCE VIEW "FTEINT" ("MATRIC", "TCIVI", "NOMFAM", "PRENOM", "DATDEB", "DATFIN", "FONCT", "TYPP", "LIB", "CODDISPO", "LIBDISPO", "DOM_EXPERTISE") AS   (  (SELECT FOR_HFTEINT.MATRIC ,    ETAT_CIV.TCIVI ,    ETAT_CIV.NOMFAM ,    ETAT_CIV.PRENOM ,    FOR_HFTEINT.DATDEB ,    FOR_HFTEINT.DATFIN ,    FOR_HFTEINT.FONCT ,    FOR_HFTEINT.TYPP ,    TYPPERSO.LIB ,    'D'                    AS CODDISPO ,    'Disponible'           AS LIBDISPO ,    FOR_HFTEINT.DOM_EXPERTISE AS DOM_EXPERTISE  FROM FOR_HFTEINT ,    ETAT_CIV ,    TYPPERSO  WHERE TYPPERSO.FLTP   <> '3'  AND FOR_HFTEINT.MATRIC = ETAT_CIV.MATRIC  AND FOR_HFTEINT.TYPP   = TYPPERSO.COD  AND ( (DATFIN          = ''  OR DATFIN             IS NULL  OR DATFIN             >= TO_CHAR ( sysdate ,'yyyymmdd' ) )  AND DATDEB            <= TO_CHAR ( sysdate ,'yyyymmdd' ) )  )UNION  (SELECT FOR_HFTEINT.MATRIC ,    ETAT_CIV.TCIVI ,    ETAT_CIV.NOMFAM ,    ETAT_CIV.PRENOM ,    FOR_HFTEINT.DATDEB ,    FOR_HFTEINT.DATFIN ,    FOR_HFTEINT.FONCT ,    FOR_HFTEINT.TYPP ,    TYPPERSO.LIB ,    'I'                                              AS CODDISPO ,    'Attention cette personne n''est plus disponible'AS LIBDISPO ,    FOR_HFTEINT.DOM_EXPERTISE   AS DOM_EXPERTISE  FROM FOR_HFTEINT ,    ETAT_CIV ,    TYPPERSO  WHERE TYPPERSO.FLTP   <> '3'  AND FOR_HFTEINT.MATRIC = ETAT_CIV.MATRIC  AND FOR_HFTEINT.TYPP   = TYPPERSO.COD  AND ( DATFIN          <= TO_CHAR ( sysdate ,'yyyymmdd' )AND DATDEB            <= TO_CHAR ( sysdate ,'yyyymmdd' ) )) ) 

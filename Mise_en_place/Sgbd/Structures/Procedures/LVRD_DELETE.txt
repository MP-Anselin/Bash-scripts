##
LVRD_DELETE
=SQL=
CREATE OR REPLACE PROCEDURE LVRD_DELETE(
    P_NUM_LIVRABLE IN NUMBER,
    P_COMPANY_ID   IN VARCHAR2)
AS
BEGIN
  IF (P_NUM_LIVRABLE IS NOT NULL AND P_COMPANY_ID IS NOT NULL) THEN
    DELETE FROM SYS_JSP_STATS WHERE ID_GENERATION = 'Liv_' || TO_CHAR(P_NUM_LIVRABLE);
    DELETE FROM SYS_JSP_STATS_INFO WHERE ID_GENERATION = 'Liv_' || TO_CHAR(P_NUM_LIVRABLE);
    DELETE FROM SYS_JSP_STATS_DETAILS WHERE ID_GENERATION = 'Liv_' || TO_CHAR(P_NUM_LIVRABLE);
    DELETE FROM TMPL_WKF_TRANSITIONS WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM TMPL_WKF_PROCESSUS WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM TMPL_WKF_OPERATION_ECRANS_INFO WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM TMPL_WKF_OPERATION_ECRANS WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM TMPL_WKF_OPERATIONS WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM TMPL_WKF_BRANCH_GEN WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM TMPL_SYS_REQUETES_JSP WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM TMPL_SYS_DEF_ERREURS WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM TMPL_REGLEGESTION_DESC WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM TMPL_REGLEGESTION WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM TMPL_PROJET_OBJET WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM TMPL_PROJET WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM TMPL_LIVRABLE WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM TMPL_GROUPE_DONNEES_INFO WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM TMPL_GROUPE_DONNEES WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM TMPL_GROUPE_DONNEES_TABLEAUX WHERE  NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM TMPL_ECRAN WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM TMPL_DONNEE_GENERALE WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM TMPL_DONNEE_ECRAN WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM TMPL_DICTIONNAIRE WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM TMPL_DESTINATION_ECRAN WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM REF_OBJ_LIVRABLES WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM MARQ_WKF_TRANSITIONS WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM MARQ_WKF_PROCESSUS WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM MARQ_WKF_OPERATION_ECRANS_INFO WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM MARQ_WKF_OPERATION_ECRANS WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM MARQ_WKF_OPERATIONS WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM MARQ_WKF_BRANCH_GEN WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM MARQ_SYS_REQUETES_JSP WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM MARQ_SYS_DEF_ERREURS WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM MARQ_REGLEGESTION_DESC WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM MARQ_REGLEGESTION WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM MARQ_GROUPE_DONNEES_INFO WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM MARQ_GROUPE_DONNEES WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM MARQ_ECRAN WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM MARQ_DONNEE_GENERALE WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM MARQ_DONNEE_ECRAN WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM MARQ_DICTIONNAIRE WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM MARQ_DESTINATION_ECRAN WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM LVRD_WKF_TRANSITIONS WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM LVRD_WKF_PROCESSUS WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM LVRD_WKF_OPERATION_ECRANS_INFO WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM LVRD_WKF_OPERATION_ECRANS WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM LVRD_WKF_OPERATIONS WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM LVRD_WKF_BRANCH_GEN WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM LVRD_SYS_REQUETES_JSP WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM LVRD_SYS_DEF_ERREURS WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM LVRD_REGLEGESTION_DESC WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM LVRD_REGLEGESTION WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM LVRD_PROJET_OBJET WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM LVRD_PROJET WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM LVRD_LIVRABLE WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM LVRD_GROUPE_DONNEES_INFO WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM LVRD_GROUPE_DONNEES WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM LVRD_GROUPE_DONNEES_TABLEAUX WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM LVRD_ECR_GRP_DONNEE_LGT_TBL WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM LVRD_ECRAN WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM LVRD_DONNEE_GENERALE WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM LVRD_DONNEE_ECRAN WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM LVRD_DICTIONNAIRE WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM LVRD_DESTINATION_ECRAN WHERE NUM_LIVRABLE = P_NUM_LIVRABLE AND COMPANY_ID = P_COMPANY_ID;
    DELETE FROM COMP_LIVR_LIEN WHERE ID_COMP IN (SELECT ID_COMP FROM COMP_LIVRABLES WHERE NUM_LIVRABLE_1 = P_NUM_LIVRABLE OR NUM_LIVRABLE_2 = P_NUM_LIVRABLE);
    DELETE FROM COMP_LIVRABLES WHERE NUM_LIVRABLE_1 = P_NUM_LIVRABLE OR NUM_LIVRABLE_2 = P_NUM_LIVRABLE;
  END IF;
END LVRD_DELETE;

##
TAG_CHARSET=@€ιθη
##
TGE_GESTIL_MATPRE
=SQL=
DECLARE
	TABLE_EXIST PLS_INTEGER := 0;
BEGIN
	SELECT COUNT(*) INTO TABLE_EXIST FROM USER_TAB_PARTITIONS WHERE TABLE_NAME = 'TGE_GESTIL_MATPRE' AND PARTITION_NAME = 'NUMPAC_DEFAULT';
	IF TABLE_EXIST = 1 THEN
		RETURN;
	END IF;
  
	SELECT COUNT(*) INTO TABLE_EXIST FROM USER_TABLES WHERE TABLE_NAME = 'TGE_GESTIL_MATPRE';
	IF TABLE_EXIST = 1 THEN
		EXECUTE IMMEDIATE 'DROP TABLE TGE_GESTIL_MATPRE';
	END IF;
	
	EXECUTE IMMEDIATE 'CREATE TABLE TGE_GESTIL_MATPRE (
		NUMPAC VARCHAR2(6)
		,MAT VARCHAR2(8)
		,DAT_PRE DATE
		,TYPE VARCHAR2(1)
		,TYPE_LIB VARCHAR2(10)
		,PRE_COL VARCHAR2(6)
		,STATUT NUMBER(38,0)
		,STATUT_LIB VARCHAR2(30)
		,COL VARCHAR2(1)
		,MGR VARCHAR2(1)
		,UCRE VARCHAR2(10)
		,DAT_CRE DATE
		,HRE_CRE VARCHAR2(6)
		,UMAJ VARCHAR2(10)
		,DAT_MAJ DATE
		,HRE_MAJ VARCHAR2(6)
	) PARTITION BY LIST (NUMPAC) ( PARTITION NUMPAC_DEFAULT VALUES (DEFAULT) ) NOLOGGING';
	
	EXECUTE IMMEDIATE 'ALTER TABLE TGE_GESTIL_MATPRE ADD (
		CONSTRAINT CK_DAT_PRE CHECK (DAT_PRE IS NOT NULL)
	)';
END;

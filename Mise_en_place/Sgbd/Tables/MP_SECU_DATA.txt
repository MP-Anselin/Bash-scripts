##
TAG_CHARSET=@€ιθη
##
MP_SECU_DATA
=SQL IFNOTEXIST=MP_SECU_DATA=
CREATE TABLE "MP_SECU_DATA" (CONSUMER_APP_OID VARCHAR(50) NOT NULL ENABLE ,DATA_NAME_MP_ALP VARCHAR(50) NOT NULL ENABLE,URI_ID VARCHAR(50) NOT NULL ENABLE ,PRIMARY KEY (CONSUMER_APP_OID,DATA_NAME_MP_ALP,URI_ID))
INSERT INTO MP_SECU_DATA (select ID_PARTENAIRE, NOM_DONNEE_UX, '*' as URI_ID from DEX_SECU_DATA , Dual )
##
MP_SECU_DATA
=SQL IFEXIST=MP_SECU_DATA=URI_ID=
ALTER TABLE MP_SECU_DATA MODIFY (URI_ID VARCHAR(250))
##
MP_SECU_DATA
==
INSERT INTO MP_SECU_DATA SELECT DISTINCT CONSUMER_APP_OID, 'formattedName', URI_ID FROM MP_SECU_DATA T1 WHERE DATA_NAME_MP_ALP IN ('firstName','lastName') AND NOT EXISTS (SELECT 1 FROM MP_SECU_DATA T2 WHERE T2.CONSUMER_APP_OID=T1.CONSUMER_APP_OID AND T2.URI_ID=T1.URI_ID AND T2.DATA_NAME_MP_ALP='formattedName')
##
MP_SECU_DATA
==
INSERT INTO MP_SECU_DATA SELECT DISTINCT CONSUMER_APP_OID, 'weeklyHours', URI_ID FROM MP_SECU_DATA T1 WHERE DATA_NAME_MP_ALP = 'standardPayPeriodHours' AND NOT EXISTS (SELECT 1 FROM MP_SECU_DATA T2 WHERE T2.CONSUMER_APP_OID=T1.CONSUMER_APP_OID AND T2.URI_ID=T1.URI_ID AND T2.DATA_NAME_MP_ALP='weeklyHours')
##
MP_SECU_DATA
==
INSERT INTO MP_SECU_DATA SELECT DISTINCT CONSUMER_APP_OID, 'monthlyHours', URI_ID FROM MP_SECU_DATA T1 WHERE DATA_NAME_MP_ALP = 'standardPayPeriodHours' AND NOT EXISTS (SELECT 1 FROM MP_SECU_DATA T2 WHERE T2.CONSUMER_APP_OID=T1.CONSUMER_APP_OID AND T2.URI_ID=T1.URI_ID AND T2.DATA_NAME_MP_ALP='monthlyHours')
